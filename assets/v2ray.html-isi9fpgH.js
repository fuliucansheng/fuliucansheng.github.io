import{_ as e,o as a,c as s,d as n}from"./app-1xqWJAUv.js";const l={},r=n(`<h2 id="server-端" tabindex="-1"><a class="header-anchor" href="#server-端" aria-hidden="true">#</a> Server 端</h2><p>在服务器端使用以下步骤安装和配置v2ray。</p><ol><li>安装v2ray</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-release.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这个命令将下载一个脚本并执行，用于安装v2ray。</p><ol start="2"><li>准备配置文件</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> https://raw.githubusercontent.com/fuliucansheng/mytools/master/shares/vps/v2ray/server.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这个命令将下载一个配置文件，用于配置v2ray的服务器端。</p><ol start="3"><li>更新配置文件中的 UUID：</li></ol><p>使用文本编辑器打开 server.json 文件，将 <code>5887937f-xxxx-xxxx-xxxx-648ff02f3029</code> 替换为你自己的 UUID。</p><ol start="4"><li>运行代理</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>v2ray run ./server.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这个命令将使用配置文件启动v2ray服务器端代理。</p><h2 id="nginx-配置" tabindex="-1"><a class="header-anchor" href="#nginx-配置" aria-hidden="true">#</a> Nginx 配置</h2><p>以下是配置Nginx服务器的步骤。</p><ol><li>将PFX证书转换为CRT/KEY</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>openssl pkcs12 <span class="token parameter variable">-in</span> ./fuliucansheng.com.pfx <span class="token parameter variable">-clcerts</span> <span class="token parameter variable">-nokeys</span> <span class="token parameter variable">-out</span> server.crt
openssl pkcs12 <span class="token parameter variable">-in</span> ./fuliucansheng.com.pfx <span class="token parameter variable">-nocerts</span> <span class="token parameter variable">-nodes</span> <span class="token parameter variable">-out</span> server.key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这些命令将从PFX证书文件中提取出CRT和KEY文件。</p><ol start="2"><li>验证转换后的证书</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>openssl s_server <span class="token parameter variable">-www</span> <span class="token parameter variable">-accept</span> <span class="token number">443</span> <span class="token parameter variable">-cert</span> server.crt <span class="token parameter variable">-key</span> server.key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这个命令将使用转换后的证书启动一个临时的HTTPS服务器，以验证证书是否有效。</p><ol start="3"><li><p>更新Nginx配置</p><ul><li>下载nginx.conf</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> https://raw.githubusercontent.com/fuliucansheng/mytools/master/shares/vps/v2ray/nginx.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>使用文本编辑器打开 nginx.conf 文件。 <ul><li>更新 ssl_certificate 和 ssl_certificate_key 为你自己的证书路径。</li><li>更新 server_name 为你自己的域名。</li></ul></li></ul></li><li><p>更新Nginx配置并重启Nginx：</p></li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>nginx <span class="token parameter variable">-s</span> reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这个命令将重新加载Nginx配置并重启Nginx服务器。</p><h2 id="cloudflare-代理网站" tabindex="-1"><a class="header-anchor" href="#cloudflare-代理网站" aria-hidden="true">#</a> Cloudflare 代理网站</h2><p>登录到 Cloudflare 并配置你自己的网站，以使用 Cloudflare 的代理功能。</p><h2 id="client-端" tabindex="-1"><a class="header-anchor" href="#client-端" aria-hidden="true">#</a> Client 端</h2><ol><li>下载安装V2rayN</li><li>准备配置文件</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> https://raw.githubusercontent.com/fuliucansheng/mytools/master/shares/vps/v2ray/client.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这个命令将下载一个配置文件，用于配置v2ray的客户端。</p><ol start="3"><li>更新配置文件中的 address, port 和 id：使用文本编辑器打开 client.json 文件，将 address, port 和 id 替换为你自己的服务器地址、端口和UUID。</li><li>导入并启动代理：将修改后的 client.json 文件导入到V2rayN中，并启动代理功能。</li></ol>`,31),i=[r];function t(d,c){return a(),s("div",null,i)}const p=e(l,[["render",t],["__file","v2ray.html.vue"]]);export{p as default};
